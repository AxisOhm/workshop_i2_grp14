var originals = [
    "merde",
    "raclure de bidet",
    "abruti",
    "aller chier dans sa caisse",
    "aller se faire enculer",
    "aller se faire endauffer",
    "aller se faire foutre",
    "aller se faire mettre",
    "aller se faire pendre",
    "allez vous faire foutre",
    "andouille",
    "anglo-fou",
    "Annie Dingo",
    "appareilleuse",
    "Arabe",
    "archicon",
    "avorton",
    "bachi-bouzouk",
    "baleine",
    "bande d'abrutis",
    "baraki",
    "baudet",
    "beauf",
    "beauf",
    "bellicole",
    "biatch",
    "bibi",
    "bic",
    "bicot",
    "bicotte",
    "bique",
    "bitch",
    "bite",
    "bitembois",
    "Bitembois",
    "bloke",
    "bogmoule",
    "bolos",
    "bordille",
    "boucaque",
    "boudin",
    "bouffi",
    "bouffon",
    "bouffonne",
    "bougnoul",
    "bougnoule",
    "bougnoulisation",
    "bougnouliser",
    "bougre",
    "bougre de",
    "boukak",
    "boulet",
    "bounioul",
    "bounioule",
    "bourdille",
    "bourrer",
    "bourricot",
    "bovo",
    "branleur",
    "branleuse",
    "brigand",
    "brise-burnes",
    "bulot",
    "cacou",
    "cafre",
    "cageot",
    "caldoche",
    "carcavel",
    "casse-bonbon",
    "casse-couille",
    "casse-couilles",
    "catin",
    "cave",
    "chagasse",
    "charlot de vogue",
    "charogne",
    "chauffard",
    "chauffeur",
    "chauffeuse",
    "chbeb",
    "chiabrena",
    "chiennasse",
    "chienne",
    "chier",
    "chieur",
    "chieuse",
    "chinetoc",
    "chinetoque",
    "Chinetoque",
    "chintok",
    "Chiotti",
    "chleuh",
    "chnoque",
    "choucroutard",
    "citrouille",
    "coche",
    "cochonne",
    "colon",
    "complotiste",
    "con",
    "con comme la lune",
    "con comme ses pieds",
    "con comme un balai",
    "con comme un manche",
    "con comme une chaise",
    "con comme une valise",
    "conasse",
    "conchier",
    "Conchita",
    "connard",
    "connarde",
    "connasse",
    "connaud",
    "conne",
    "conspirationniste",
    "couille molle",
    "counifle",
    "courtaud",
    "courtaude",
    "CPF",
    "crevure",
    "cricri",
    "crouillat",
    "crouille",
    "dago",
    "doryphore",
    "doxosophe",
    "doxosophie",
    "drouille",
    "du schnoc",
    "ducon",
    "ducon-la-joie",
    "duconnot",
    "dugenoux",
    "dugland",
    "duschnock",
    "emmerder",
    "emmerdeur",
    "emmerdeuse",
    "enculer",
    "enfant de fusil",
    "enfant de garce",
    "enfant de putain",
    "enfant de pute",
    "enfant de salaud",
    "enflure",
    "envaselineur",
    "envoyer faire foutre",
    "espingoin",
    "espingouin",
    "face de chien",
    "face de craie",
    "face de pet",
    "face de rat",
    "fachiste",
    "FART",
    "FDP",
    "fell",
    "femme transmasculine",
    "fermer sa gueule",
    "feuj",
    "fifi",
    "fils de chien",
    "fils de chienne",
    "fils de garce",
    "fils de pute",
    "fils de ta race",
    "fiotte",
    "floco",
    "folle",
    "fouteuse",
    "foutriquet",
    "fragile",
    "fripouille",
    "fritz",
    "Fritz",
    "fumelard",
    "fumier",
    "garce",
    "gaupe",
    "GDM",
    "gestapette",
    "Gestapette",
    "giaour",
    "gland",
    "glandeur",
    "glandeuse",
    "glandouillou",
    "glandu",
    "glandue",
    "gnoul",
    "gnoule",
    "goddam",
    "Godon",
    "gogol",
    "gogol88",
    "gogole",
    "gogolito",
    "gonzesse",
    "gook",
    "gouilland",
    "gouine",
    "goulou-goulou",
    "gourdasse",
    "gourde",
    "gourgandine",
    "grognasse",
    "gueniche",
    "guenillard",
    "guide de merde",
    "guindoule",
    "gwer",
    "habitant",
    "halouf",
    "harki",
    "hippopotame",
    "hon",
    "incapable",
    "islamo-gauchisme",
    "islamo-gauchiste",
    "islamogauchist",
    "jean-foutre",
    "jean-fesse",
    "jeannette",
    "Joe Bidet",
    "journalope",
    "journapute",
    "juivaillon",
    "kaffir",
    "kahlouche",
    "karlouche",
    "kawish",
    "Khmer rose",
    "Khmer rouge",
    "Khmer vert",
    "kikoo",
    "kikou",
    "konar",
    "koreaboo",
    "Kraut",
    "krouia",
    "kung flu",
    "la fermer",
    "lavette",
    "loche",
    "lopette",
    "lorpidon",
    "lourpidon",
    "macaroni",
    "macho",
    "magot",
    "mal blanchi",
    "mange-merde",
    "manger ses morts",
    "mangeux de marde",
    "marchande de poisson",
    "marchandot",
    "margouilliste",
    "marlouf",
    "marsouin",
    "marsouine",
    "mauviette",
    "maya",
    "melon",
    "mercon",
    "merdaille",
    "merdaillon",
    "merde",
    "Merdella",
    "merdeuse",
    "merdeux",
    "merdouillard",
    "michto",
    "minable",
    "minus",
    "moinaille",
    "moins-que-rien",
    "mollusque",
    "monacaille",
    "mongol",
    "moricaud",
    "mort aux vaches",
    "morue",
    "mouloud",
    "muzz",
    "naze",
    "nazi",
    "ndepso",
    "newfie",
    "nez de boeuf",
    "niac",
    "niafou",
    "niaiseux",
    "nikoumouk",
    "niquer",
    "noeud",
    "noob",
    "Notre-Drame de Paris",
    "ntm",
    "NTM",
    "ntr",
    "nul",
    "nulle",
    "orchidoclaste",
    "ordure",
    "ortho",
    "pak pak",
    "pak-pak",
    "pakos",
    "pakpak",
    "PAN",
    "panafricon",
    "panoufle",
    "pas grand-chose",
    "pas grand'chose",
    "patarin",
    "PD",
    "peau",
    "peau d'hareng",
    "peau de couille",
    "peau de fesse",
    "peau de vache",
    "pecque",
    "petite bite",
    "petite merde",
    "pignouf",
    "pignoufe",
    "pisser au cul",
    "pisseuse",
    "pissou",
    "pleutre",
    "plouc",
    "pochard",
    "pooner",
    "porc",
    "porcas",
    "porcasse",
    "pot de merde",
    "pouf",
    "pouffiasse",
    "poufiasse",
    "pourriture",
    "Poutler",
    "punaise",
    "putain",
    "putain de ta race",
    "pute",
    "pute borgne",
    "putois",
    "raclure",
    "raclure de bidet",
    "radoteur",
    "rat",
    "raton",
    "retourne aux asperges",
    "robespierrot",
    "roi des cons",
    "rond de chiotte",
    "rosbif",
    "roulure",
    "sagouin",
    "sagouine",
    "salaud",
    "salaude",
    "sale",
    "salop",
    "salope",
    "sans-couilles",
    "satrouille",
    "sauvage",
    "sauvagesse",
    "schbeb",
    "schlague",
    "schleu",
    "Schleu",
    "Schleue",
    "schnock",
    "schnoque",
    "sent-la-pisse",
    "sidi",
    "social-traître",
    "sociale-traître",
    "sottiseux",
    "sous-merde",
    "succube",
    "SWERF",
    "ta bouche",
    "ta gueule",
    "ta race",
    "ta yeule",
    "tache",
    "tafiole",
    "tafiotte",
    "taggle",
    "tahan",
    "tanche",
    "tantouserie",
    "tantouze",
    "tapette",
    "tapettitude",
    "tarlouze",
    "tata",
    "tchoutche",
    "terf",
    "TERF",
    "teub",
    "thon",
    "tocard",
    "tonnerre",
    "trap",
    "trav",
    "triple buse",
    "troon",
    "trou de cul",
    "trou du cul",
    "trouduc",
    "truiasse",
    "truie",
    "untermensch",
    "va te faire foutre",
    "va te faire une soupe d'esques",
    "vaurien",
    "vaurienne",
    "vendu",
    "vert-de-gris",
    "vide-couilles",
    "vieille conne",
    "vier",
    "vieux",
    "vieux blanc",
    "vieux con",
    "weeaboo",
    "woke",
    "wokisme",
    "wokiste",
    "y'a bon",
    "youd",
    "youp",
    "youpin",
    "youpine",
    "youpinisation",
    "youpiniser",
    "youtre",
    "zemel",
    "zizi",
    "Zizisky",
    "zoulette"
];
var replacements_set_active = [];
var replacements_set_birds = [
    "accenteur alpin",
    "aigle royal",
    "alouette des champs",
    "anhinga",
    "ara de spix",
    "autruche",
    "buse",
    "buse des galapagos",
    "calao",
    "canard",
    "flamant rose",
    "hirondelle",
    "martinet",
    "fauconnet",
    "flamant",
    "foulque macroure",
    "garotte",
    "gobe-mouche",
    "grue imperial",
    "hibou grand-duc",
    "hibou moyen-duc",
    "hirondelle de lauriers",
    "houbara",
    "kestrel",
    "loriot",
    "loup marin",
    "lyre",
    "martin-chasseur",
    "nigrette",
    "nuit-ble",
    "nyctale",
    "oie chouette",
    "oie sauvage",
    "oulex",
    "ouzel",
    "paon bleu",
    "perdrix",
    "perroquet",
    "pic maronal",
    "pic vert",
    "pie bavarde",
    "pie des bois",
    "quetzal",
    "rall",
    "raton laveur",
    "rieur",
    "roitelet",
    "rossignol",
    "rousserolle",
    "rousserolle vermicelle",
    "semeur",
    "serin",
    "serin des rochers",
    "sittelle",
    "sturnelle",
    "sylvette",
    "tarier",
    "tournesol",
    "traquet",
    "traquet motteux",
    "troglodyte",
    "troglodyte mignon",
    "uropyge",
    "vanneau",
    "vautour",
    "verdier",
    "wryneck",
    "yellow warbler",
];

var replace_source = "Birds"
var compteur = 0;

window.setWordReplacements = function (_originals, _replacements) {
    originals = _originals;
    replacements_set_active = _replacements;
    isReplacerReady = true;
    console.log("Words replacements ready");
    replaceWords();
};

function replaceWords() {
    const walker = document.createTreeWalker(document.body, NodeFilter.SHOW_TEXT, null, false);
    let node;
    try {
        while (node = walker.nextNode()) {
            var i = 0;
            originals.forEach(original => {
                var text = node.nodeValue;
                /*
                if (replacements_set_active[0] != null && replacements_set_active[0] != undefined) {
                    var regex = new RegExp(original, "gi");
                    console.log("Regex : ", regex);
                    text = node.nodeValue.replace(regex, replacements_set_active[i]);
                } else */
                if (replace_source === "Birds") {
                    var regex = new RegExp(original, "gi");
                    console.log("Regex : ", regex);
                    console.log("Birds amount : " + replacements_set_birds.length);
                    text = node.nodeValue.replace(regex, replacements_set_birds[Math.floor(Math.random() * replacements_set_birds.length)]);
                }
                else if (replace_source === "Asterisks") {
                    var regex = new RegExp(original, "gi");
                    console.log("Regex : ", regex);
                    text = node.nodeValue.replace(regex, "*****");
                }
                node.nodeValue = text;
                i++;
            });
        }
    } catch (error) {
        console.error("Error while replacing words : ", error);
    }
}

document.addEventListener("DOMContentLoaded", () => {
    console.log("Document fully loaded. Replacing words...");
    replaceWords();
});

//window.onload = replaceWords;

const observer = new MutationObserver(function (mutations) {
    mutations.forEach(function (mutation) {
        if (mutation.type === 'childList' || mutation.type === 'subtree') {
            replaceWords();
        }
    });
});

observer.observe(document.body, {
    childList: true,
    subtree: true,
    characterData: true
});